data.frame(grep("de$", nasa_noIP$host), rep("de", length(grep("de$", nasa_noIP$host))))
View(dk)
dk <-
data.frame(grep("dk$", nasa_noIP$host), rep("dk", length(grep("dk$", nasa_noIP$host))))
View(dk)
sites
net <-
data.frame(grep("net$", nasa_noIP$host), rep("net", length(grep("net$", nasa_noIP$host))))
com <-
data.frame(grep("com$", nasa_noIP$host), rep("com", length(grep("com$", nasa_noIP$host))))
au <-
data.frame(grep("au$", nasa_noIP$host), rep("au", length(grep("au$", nasa_noIP$host))))
edu <-
data.frame(grep("edu$", nasa_noIP$host), rep("edu", length(grep("edu$", nasa_noIP$host))))
de <-
data.frame(grep("de$", nasa_noIP$host), rep("de", length(grep("de$", nasa_noIP$host))))
se <-
data.frame(grep("se$", nasa_noIP$host), rep("se", length(grep("se$", nasa_noIP$host))))
org <-
data.frame(grep("org$", nasa_noIP$host), rep("org", length(grep("org$", nasa_noIP$host))))
gov <-
data.frame(grep("gov$", nasa_noIP$host), rep("gov", length(grep("gov$", nasa_noIP$host))))
ca <-
data.frame(grep("ca$", nasa_noIP$host), rep("ca", length(grep("ca$", nasa_noIP$host))))
uk <-
data.frame(grep("uk$", nasa_noIP$host), rep("uk", length(grep("uk$", nasa_noIP$host))))
nl <-
data.frame(grep("nl$", nasa_noIP$host), rep("nl", length(grep("nl$", nasa_noIP$host))))
pl <-
data.frame(grep("pl$", nasa_noIP$host), rep("pl", length(grep("pl$", nasa_noIP$host))))
sites<-
bind_rows(dk, net)
View(sites)
?bind_rows
sites<-
bind_rows(dk, net, .id = "id")
colnames(pl, nl) <- c("index", "name")
colnames(c(pl, nl)) <- c("index", "name")
colnames((pl, nl)) <- c("index", "name")
colnames(pl) <- c("index", "name")
colnames(nl) <- c("index", "name")
sites<-
bind_rows(pl,nl)
colnames(dk) <- c("index", "name")
colnames(net) <- c("index", "name")
colnames(com) <- c("index", "name")
colnames(au) <- c("index", "name")
colnames(edu) <- c("index", "name")
colnames(de) <- c("index", "name")
colnames(se) <- c("index", "name")
colnames(org) <- c("index", "name")
colnames(gov) <- c("index", "name")
colnames(ca) <- c("index", "name")
colnames(uk) <- c("index", "name")
colnames(nl) <- c("index", "name")
colnames(pl) <- c("index", "name")
sites<-
bind_rows(dk, net, com, au, edu, de, se, org, gov, ca, uk, nl, pl)
View(sites)
sites <- sites %>%
arrange(index)
View(sites)
nasa_noIP <-
data.frame(nasa_noIP, sites[,2])
View(nasa_noIP)
colnames(nasa_noIP)[6] <- "site_type"
nasa_noIP %>% count(site_type)
library(Hmisc)
describe(nasa_noIP)
nasa_noIP %>% count(host)
View(nasa_noIP)
nasa_noIP
nasa_noIP %>% count(host)
nasa_noIP %>% count(host)
nasa_noIP %>% count(site_type)
nasa_noIP_for_automata <-
nasa_noIP[,c(1:4)]
View(nasa_noIP_for_automata)
write.csv(nasa_noIP_for_automata, "/Users/Jack/Documents/GitHub/Log-Data-Feature-Gen/input-automata-csv/nasa_input.csv")
write.csv(nasa_noIP_for_automata, "/Users/Jack/Documents/GitHub/Log-Data-Feature-Gen/input-automata-csv/nasa_input.csv", row.names = FALSE)
nasa_noIP
nasa_noIP$time_of_day <- as.Date(nasa_noIP$time, format = "%H:%M:%S")
View(nasa_noIP)
library(lubridate)
nasa_noIP$time_of_day <- mdy(nasa_noIP$time)
nasa_noIP %>% count(response)
library(tidyverse)
nasa_noIP %>% count(response)
nasa_noIP<-nasa_noIP %>%
select(-time_of_day)
library(tibbletime)
install.packages("tibbletime")
library(tibbletime)
# Visualizations
nasa %>% ggplot(aes(x=day)) +
geom_bar()
# Visualizations
nasa_noIP %>% ggplot(aes(x=time)) +
geom_histogram()
filter_time(nasa_noIP, time_formula = '1995-07-15' ~ '1995-08-05')
nasa_tbl_time<-as_tbl_time(nasa_noIP, index = time
)
filter_time(nasa_tbl_time, time_formula = '1995-07-15' ~ '1995-08-05')
nasa_tbl_time <- nasa_noIP %>%
arrange(time)
nasa_tbl_time<-as_tbl_time(nasa_noIP, index = time)
filter_time(nasa_tbl_time, time_formula = '1995-07-15' ~ '1995-08-05')
nasa_tbl_time[order(nasa_tbl_time$time),]
nasa_tbl_time<-nasa_tbl_time[order(nasa_tbl_time$time),]
filter_time(nasa_tbl_time, time_formula = '1995-07-15' ~ '1995-08-05')
View(nasa_tbl_time)
filter_time(nasa_tbl_time, time_formula = '11:00:00' ~ '12:00:00')
as.Date(nasa_tbl_time$time, format = "%d/%m/%Y")
as.POSIXct(nasa_tbl_time$time, format = "%d/%m/%Y")
strptime(nasa_tbl_time$time, "%d/%m/%Y")
strftime(nasa_tbl_time$time, "%H:%M:%S")
nasa_tbl_time<- nasa_tbl_time %>%
mutate(date = time)
strptime(nasa_tbl_time$time, "%d/%m/%Y")
strptime(nasa_tbl_time$time, "%d/%m/%Y")
as.POSIXct(nasa_tbl_time$time, format = "%d/%m/%Y")
as.Date(nasa_tbl_time$time, format = "%d/%m/%Y")
as.Date(nasa_tbl_time$time)
strftime(nasa_tbl_time$time, "%H:%M:%S")
strftime(nasa_tbl_time$time)
strftime(nasa_tbl_time$time, "%H:%M:%S")
nasa_noIP<-
nasa_noIP %>%
mutate(date = as.Date(time)) %>%
mutate(time = strftime(time, "%H:%M:%S"))
View(nasa_noIP)
nasa_noIP <-
nasa_noIP[,c(1,2,7,3,4,6)]
nasa_noIP<-
nasa_noIP[order(nasa_noIP$date)]
nasa_tbl_time
write.csv(nasa_noIP, "/Users/Jack/Desktop/Nasa_date_time_split.csv")
nasa_tbl_time<-as_tbl_time(nasa_noIP, index = date)
nasa_tbl_time<-nasa_tbl_time[order(nasa_tbl_time$date),]
View(nasa_tbl_time)
nasa_tbl_time_date<-as_tbl_time(nasa_noIP, index = date)
nasa_tbl_time_date<-nasa_tbl_time_date[order(nasa_tbl_time_date$date),]
rm(nasa_tbl_time)
View(nasa_tbl_time_date)
nasa_tbl_time_time<-as_tbl_time(nasa_noIP, index = time)
library(tidymodels)
nasa_features<-read_csv("/Users/Jack/Documents/GitHub/Log-Data-Feature-Gen/output-automata-csv/nasa-features.csv")
View(nasa_features)
nasa_noIP_grouped <- nasa_noIP %>%
group_by(host) %>%
summarise()
nasa_noIP_grouped <- nasa_noIP %>%
group_by(host) %>%
summarise(site_type=site_type)
nasa_noIP_grouped <- nasa_noIP %>%
group_by(host) %>%
group_rows()
nasa_noIP_grouped <- nasa_noIP %>%
group_by(host)
View(nasa_noIP)
nasa_noIP %>% count(host)
nasa_noIP %>% count(site_type)
nasa_noIP_grouped <- nasa_noIP %>%
group_by(host) %>%
summarise(site_type = first(site_type))
View(nasa_noIP_grouped)
nasa_features[1,1] == nasa_noIP_grouped[1,1]
nasa_features[,1] == nasa_noIP_grouped[,1]
nasa_features <- nasa_features %>%
bind_cols(nasa_noIP_grouped[,2])
nasa_vars <- nasa_features %>%
select(-host)
nasa_vars <- nasa_features %>%
select(-name)
nasa_features[,c(1,102)]
nasa_features <- nasa_noIP_grouped[,2] %>%
bind_cols(nasa_features)
View(nasa_features)
nasa_features<-read_csv("/Users/Jack/Documents/GitHub/Log-Data-Feature-Gen/output-automata-csv/nasa-features.csv")
nasa_features <- nasa_noIP_grouped[,2] %>%
bind_cols(nasa_features)
nasa_vars <- nasa_features %>%
select(-name)
View(nasa_vars)
nasa_vars %>% count(site_type)
nasa_split <- initial_split(nasa_vars)
nasa_recipe <-
training(nasa_split) %>%
recipe(site_type~.) %>%
step_corr(all_predictors()) %>%
step_zv(all_predictors())
nasa_recipe
nasa_training <- juice(nasa_recipe)
nasa_recipe <-
training(nasa_split) %>%
recipe(site_type~.) %>%
step_corr(all_predictors()) %>%
step_zv(all_predictors()) %>%
prep()
nasa_recipe
nasa_recipe <-
training(nasa_split) %>%
recipe(site_type~.) %>%
step_zv(all_predictors()) %>%
step_corr(all_predictors()) %>%
prep()
nasa_recipe
nasa_training <- juice(nasa_recipe)
nasa_testing <-
nasa_recipe %>%
bake(testing(nasa_split))
nasa_rf_mod <-
rand_forest() %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
predict(nasa_fit, nasa_testing) %>%
bind_cols(nasa_testing)
View(nasa_results)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
View(nasa_results)
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 200) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_recipe <-
training(nasa_split) %>%
recipe(site_type~.) %>%
step_zv(all_predictors()) %>%
#step_corr(all_predictors()) %>%
prep()
nasa_training <- juice(nasa_recipe)
nasa_testing <-
nasa_recipe %>%
bake(testing(nasa_split))
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_recipe <-
training(nasa_split) %>%
recipe(site_type~.) %>%
step_zv(all_predictors()) %>%
step_corr(all_predictors()) %>%
prep()
nasa_training <- juice(nasa_recipe)
nasa_testing <-
nasa_recipe %>%
bake(testing(nasa_split))
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
nasa_rf_mod <-
rand_forest(trees = 100) %>%
set_engine("randomForest") %>%
set_mode("classification")
nasa_fit <-
nasa_rf_mod %>%
fit(site_type ~., data = nasa_training)
nasa_results <-
nasa_testing %>%
bind_cols(predict(nasa_fit, nasa_testing))
metrics(nasa_results, truth = site_type, estimate = .pred_class)
View(nasa_testing)
nasa_vars %>% ggplot(aes(F2)) +
geom_histogram()
library(Hmisc)
plot(describe(nasa_vars))
nasa_vars %>% ggplot(aes(F3)) +
geom_histogram()
nasa_vars %>% ggplot(aes(F3)) +
geom_histogram(color = site_type)
var_imp(nasa_fit)
nasa_fit
boxplot(F3~site_type, data=nasa_vars)
boxplot(F2~site_type, data=nasa_vars)
boxplot(F19~site_type, data=nasa_vars)
boxplot(F58~site_type, data=nasa_vars)
boxplot(F58~site_type, data=nasa_training)
boxplot(F5~site_type, data=nasa_vars)
boxplot(F6~site_type, data=nasa_vars)
boxplot(F20~site_type, data=nasa_vars)
boxplot(F2~site_type, data=nasa_vars, main="Boxplot of F2 by site_type")
boxplot(F3~site_type, data=nasa_vars, main="Boxplot of F3 by site_type")
boxplot(F20~site_type, data=nasa_vars, main="Boxplot of F20 by site_type")
boxplot(F25~site_type, data=nasa_vars)
boxplot(F26~site_type, data=nasa_vars)
library(tidyverse)
nasa <- read_csv("/Users/Jack/Documents/data.csv")
nasa[grep(".edu$", nasa$host),]
length(grep("\\D$", nasa$host))
length(grep(".edu$", nasa$host))
length(grep(".org$", nasa$host))
length(grep(".net$", nasa$host))
length(grep(".com$", nasa$host))
length(grep(".net$", nasa$host))
length(grep(".org$", nasa$host))
length(grep(".de$", nasa$host))
length(grep(".edu$", nasa$host))
length(grep(".net$", nasa$host))
length(grep(".org$", nasa$host))
length(grep(".com$", nasa$host))
length(grep(".de$", nasa$host))
length(grep(".org$", nasa$host))
length(grep(".edu$", nasa$host)) + length(grep(".net$", nasa$host))
nasa_edu_net<-nasa[c(grep(".edu$", nasa$host), grep(".net$", nasa$host),]
-nasa[c(grep(".edu$", nasa$host), grep(".net$", nasa$host),]
nasa[c(grep(".edu$", nasa$host), grep(".net$", nasa$host),]
nasa[c(grep(".edu$", nasa$host), grep(".net$", nasa$host),]
nasa_edu_net<-nasa[c(grep(".edu$", nasa$host), grep(".net$", nasa$host)),]
nasa_edu <-
data.frame(grep(".edu$", nasa_edu_net$host), rep("edu", length(grep(".edu$", nasa_edu_net$host))))
?data.frame
nasa_edu <-
data.frame(grep(".edu$", nasa_edu_net$host), rep("edu", length(grep(".edu$", nasa_edu_net$host))), row.names = c("index", "site_type"))
nasa_edu <-
data.frame(grep(".edu$", nasa_edu_net$host), rep("edu", length(grep(".edu$", nasa_edu_net$host))))
nasa_net <-
data.frame(grep("net$", nasa_edu_net$host), rep("net", length(grep("net$", nasa_edu_net$host))))
colnames(nasa_edu) <- c("index", "site_type")
colnames(nasa_net) <- c("index", "site_type")
edu_net_sites <- bind_rows(nasa_edu, nasa_net)
edu_net_sites <- edu_net_sites %>%
arrange(index)
head(edu_net_sites)
head(nasa_edu_net)
nasa_edu_net <-
data.frame(nasa_edu_net, edu_net_sites[,2])
head(nasa_edu_net, 50)
View(head(nasa_edu_net, 50))
View(head(nasa_edu_net, 500))
View(head(nasa_edu_net, 5000))
View(tail(nasa_edu_net, 5000))
nasa_edu_net %>% count(host)
nasa_edu_net <-
data.frame(nasa_edu_net, edu_net_sites[,2])
nasa_edu_net_filtered <- nasa_edu_net %>%
select(-X1, -method, -url) %>%
mutate(time = anytime(time)) %>%
mutate(day = weekdays(as.Date(time)))
library(anytime)
nasa_edu_net_filtered <- nasa_edu_net %>%
select(-X1, -method, -url) %>%
mutate(time = anytime(time)) %>%
mutate(day = weekdays(as.Date(time)))
nasa_edu_net %>% count(response)
nasa_edu_net %>% count(method)
nasa_edu_net <- nasa_edu_net %>%
mutate(time = anytime(time)) %>%
mutate(day = weekdays(as.Date(time)))
nasa_edu_net <- nasa_edu_net %>%
select(-X1)
